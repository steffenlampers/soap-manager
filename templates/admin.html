{% extends 'base.html' %}

{% block content %}
<h2 class="mb-4 text-danger"><i class="bi bi-shield-lock-fill"></i> Admin Interface</h2>

<div class="row g-4">
    <div class="col-md-4">
        <div class="card h-100 border-secondary">
            <div class="card-header">System Status</div>
            <div class="card-body">
                <ul class="list-group list-group-flush bg-transparent">
                    <li class="list-group-item bg-transparent text-white d-flex justify-content-between">
                        <span>Wiki Einträge:</span>
                        <strong>{{ wiki_count }}</strong>
                    </li>
                    <li class="list-group-item bg-transparent text-white d-flex justify-content-between">
                        <span>Rezepte:</span>
                        <strong>{{ soap_count }}</strong>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card h-100 border-warning">
            <div class="card-header bg-warning text-dark fw-bold">Datenbank Import</div>
            <div class="card-body">
                <p class="small text-muted">Hier <code>universal_db.json</code> hochladen.</p>
                
                <form action="{{ url_for('admin_import') }}" method="POST" enctype="multipart/form-data">
                    <div class="input-group mb-3">
                        <input type="file" name="file" class="form-control bg-dark text-white border-secondary" required>
                        <button class="btn btn-warning" type="submit">Start</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card h-100 border-danger">
            <div class="card-header bg-danger text-white fw-bold">Gefahrenzone</div>
            <div class="card-body text-center">
                <p class="card-text text-danger">Löscht das gesamte Wiki-Wissen.</p>
                <a href="{{ url_for('admin_reset_db') }}" 
                   class="btn btn-danger w-100" 
                   onclick="return confirm('Wirklich alles löschen?')">
                   <i class="bi bi-exclamation-triangle-fill"></i> Reset
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}